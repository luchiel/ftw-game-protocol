Базовый протокол
================

Формат запросов
---------------

Запрос отправляется методом POST, используя JSONP (в качестве callback-параметра используется GET параметр “callback”) с JSON объектом, сформированным по следующему принципу:

.. code-block:: json

    {
        “action”: <код запроса>,
        <поля, определяемые конкретным запросом>
    }

Ответ представляет собой JSON объект следующего вида:

.. code-block:: json

    {
        “status”: <код статуса>,
        <поля, определяемые конкретным запросом и статусом>
    }

Общие коды статуса:

+--------------------+------------------------------------------------+
|        Код         |                  Комментарий                   |
+====================+================================================+
| ok                 | Запрос был успешно выполнен.                   |
+--------------------+------------------------------------------------+
| malformed_field    | Поле не соответствует установленному формату.  |
|                    | Имя поля передаётся в параметре field.         |
+--------------------+------------------------------------------------+
| malformed_request  | Запрос не соответствует установленному формату |
|                    | (все ошибки, не входящие в malformed_field).   |
+--------------------+------------------------------------------------+
| unsupported_action | Указанное действие не поддерживается.          |
+--------------------+------------------------------------------------+
